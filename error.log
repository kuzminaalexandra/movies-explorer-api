{"level":"error","message":"middlewareError","meta":{"date":"Sat Jun 03 2023 08:11:24 GMT+0500 (Екатеринбург, стандартное время)","error":{"details":{}},"exception":true,"level":"error","message":"uncaughtException: Validation failed\nError: Validation failed\n    at C:\\movies-explorer-api\\node_modules\\celebrate\\lib\\celebrate.js:95:19\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)","os":{"loadavg":[0,0,0],"uptime":4488},"process":{"argv":["C:\\Program Files\\nodejs\\node.exe","C:\\movies-explorer-api\\app.js"],"cwd":"C:\\movies-explorer-api","execPath":"C:\\Program Files\\nodejs\\node.exe","gid":null,"memoryUsage":{"arrayBuffers":18377187,"external":19355878,"heapTotal":27684864,"heapUsed":25554160,"rss":55996416},"pid":11624,"uid":null,"version":"v16.17.0"},"req":{"headers":{"accept":"*/*","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"69","content-type":"application/json","host":"localhost:3000","postman-token":"508f5c40-fb27-4310-befa-f7d89c3f1c21","user-agent":"PostmanRuntime/7.32.2"},"httpVersion":"1.1","method":"POST","originalUrl":"/signup","query":{},"url":"/signup"},"stack":"Error: Validation failed\n    at C:\\movies-explorer-api\\node_modules\\celebrate\\lib\\celebrate.js:95:19\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)","trace":[{"column":19,"file":"C:\\movies-explorer-api\\node_modules\\celebrate\\lib\\celebrate.js","function":null,"line":95,"method":null,"native":false},{"column":5,"file":"node:internal/process/task_queues","function":"processTicksAndRejections","line":96,"method":null,"native":false}]}}
{"level":"error","message":"middlewareError","meta":{"date":"Sat Jun 03 2023 08:16:22 GMT+0500 (Екатеринбург, стандартное время)","error":{},"exception":true,"level":"error","message":"uncaughtException: User.findUserByCredentials is not a function\nTypeError: User.findUserByCredentials is not a function\n    at module.exports.login (C:\\movies-explorer-api\\controllers\\users.js:45:8)\n    at Layer.handle [as handle_request] (C:\\movies-explorer-api\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\movies-explorer-api\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)","os":{"loadavg":[0,0,0],"uptime":4786},"process":{"argv":["C:\\Program Files\\nodejs\\node.exe","C:\\movies-explorer-api\\app.js"],"cwd":"C:\\movies-explorer-api","execPath":"C:\\Program Files\\nodejs\\node.exe","gid":null,"memoryUsage":{"arrayBuffers":18384723,"external":25089214,"heapTotal":60452864,"heapUsed":25813584,"rss":76042240},"pid":5824,"uid":null,"version":"v16.17.0"},"req":{"headers":{"accept":"*/*","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"69","content-type":"application/json","host":"localhost:3000","postman-token":"8176b85d-2568-44fd-b735-ea6757fc57a1","user-agent":"PostmanRuntime/7.32.2"},"httpVersion":"1.1","method":"POST","originalUrl":"/signin","query":{},"url":"/signin"},"stack":"TypeError: User.findUserByCredentials is not a function\n    at module.exports.login (C:\\movies-explorer-api\\controllers\\users.js:45:8)\n    at Layer.handle [as handle_request] (C:\\movies-explorer-api\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\movies-explorer-api\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)","trace":[{"column":8,"file":"C:\\movies-explorer-api\\controllers\\users.js","function":"module.exports.login","line":45,"method":"login","native":false},{"column":5,"file":"C:\\movies-explorer-api\\node_modules\\express\\lib\\router\\layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"C:\\movies-explorer-api\\node_modules\\express\\lib\\router\\route.js","function":"next","line":144,"method":null,"native":false},{"column":5,"file":"node:internal/process/task_queues","function":"processTicksAndRejections","line":96,"method":null,"native":false}]}}
{"level":"error","message":"middlewareError","meta":{"date":"Sat Jun 03 2023 08:16:24 GMT+0500 (Екатеринбург, стандартное время)","error":{},"exception":true,"level":"error","message":"uncaughtException: User.findUserByCredentials is not a function\nTypeError: User.findUserByCredentials is not a function\n    at module.exports.login (C:\\movies-explorer-api\\controllers\\users.js:45:8)\n    at Layer.handle [as handle_request] (C:\\movies-explorer-api\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\movies-explorer-api\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)","os":{"loadavg":[0,0,0],"uptime":4788},"process":{"argv":["C:\\Program Files\\nodejs\\node.exe","C:\\movies-explorer-api\\app.js"],"cwd":"C:\\movies-explorer-api","execPath":"C:\\Program Files\\nodejs\\node.exe","gid":null,"memoryUsage":{"arrayBuffers":18384832,"external":25089363,"heapTotal":60715008,"heapUsed":26273200,"rss":76967936},"pid":5824,"uid":null,"version":"v16.17.0"},"req":{"headers":{"accept":"*/*","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"69","content-type":"application/json","host":"localhost:3000","postman-token":"8400dd15-dc1a-4636-90e8-7ea5cb11f00c","user-agent":"PostmanRuntime/7.32.2"},"httpVersion":"1.1","method":"POST","originalUrl":"/signin","query":{},"url":"/signin"},"stack":"TypeError: User.findUserByCredentials is not a function\n    at module.exports.login (C:\\movies-explorer-api\\controllers\\users.js:45:8)\n    at Layer.handle [as handle_request] (C:\\movies-explorer-api\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\movies-explorer-api\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)","trace":[{"column":8,"file":"C:\\movies-explorer-api\\controllers\\users.js","function":"module.exports.login","line":45,"method":"login","native":false},{"column":5,"file":"C:\\movies-explorer-api\\node_modules\\express\\lib\\router\\layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"C:\\movies-explorer-api\\node_modules\\express\\lib\\router\\route.js","function":"next","line":144,"method":null,"native":false},{"column":5,"file":"node:internal/process/task_queues","function":"processTicksAndRejections","line":96,"method":null,"native":false}]}}
{"level":"error","message":"middlewareError","meta":{"date":"Sat Jun 03 2023 08:16:52 GMT+0500 (Екатеринбург, стандартное время)","error":{},"exception":true,"level":"error","message":"uncaughtException: User.findUserByCredentials is not a function\nTypeError: User.findUserByCredentials is not a function\n    at module.exports.login (C:\\movies-explorer-api\\controllers\\users.js:45:8)\n    at Layer.handle [as handle_request] (C:\\movies-explorer-api\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\movies-explorer-api\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)","os":{"loadavg":[0,0,0],"uptime":4816},"process":{"argv":["C:\\Program Files\\nodejs\\node.exe","C:\\movies-explorer-api\\app.js"],"cwd":"C:\\movies-explorer-api","execPath":"C:\\Program Files\\nodejs\\node.exe","gid":null,"memoryUsage":{"arrayBuffers":18384723,"external":25089214,"heapTotal":61239296,"heapUsed":25799192,"rss":72777728},"pid":4428,"uid":null,"version":"v16.17.0"},"req":{"headers":{"accept":"*/*","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"69","content-type":"application/json","host":"localhost:3000","postman-token":"2ce09777-089b-41bf-b914-a1f642f34dd0","user-agent":"PostmanRuntime/7.32.2"},"httpVersion":"1.1","method":"POST","originalUrl":"/signin","query":{},"url":"/signin"},"stack":"TypeError: User.findUserByCredentials is not a function\n    at module.exports.login (C:\\movies-explorer-api\\controllers\\users.js:45:8)\n    at Layer.handle [as handle_request] (C:\\movies-explorer-api\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\movies-explorer-api\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)","trace":[{"column":8,"file":"C:\\movies-explorer-api\\controllers\\users.js","function":"module.exports.login","line":45,"method":"login","native":false},{"column":5,"file":"C:\\movies-explorer-api\\node_modules\\express\\lib\\router\\layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"C:\\movies-explorer-api\\node_modules\\express\\lib\\router\\route.js","function":"next","line":144,"method":null,"native":false},{"column":5,"file":"node:internal/process/task_queues","function":"processTicksAndRejections","line":96,"method":null,"native":false}]}}
{"level":"error","message":"middlewareError","meta":{"date":"Sat Jun 03 2023 08:21:50 GMT+0500 (Екатеринбург, стандартное время)","error":{"statusCode":404},"exception":true,"level":"error","message":"uncaughtException: Фильм не найден\nError: Фильм не найден\n    at C:\\movies-explorer-api\\controllers\\movies.js:61:15\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)","os":{"loadavg":[0,0,0],"uptime":5113},"process":{"argv":["C:\\Program Files\\nodejs\\node.exe","C:\\movies-explorer-api\\app.js"],"cwd":"C:\\movies-explorer-api","execPath":"C:\\Program Files\\nodejs\\node.exe","gid":null,"memoryUsage":{"arrayBuffers":18295850,"external":19296081,"heapTotal":29519872,"heapUsed":26790632,"rss":57327616},"pid":8112,"uid":null,"version":"v16.17.0"},"req":{"headers":{"accept":"*/*","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"446","content-type":"application/json","cookie":"jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2NDdhYWY3MzIwMjg4ZjBkNDI5NjJmY2YiLCJpYXQiOjE2ODU3NjIzNzUsImV4cCI6MTY4NjM2NzE3NX0.y3lofa8SSuuqDbniKMOqEUA8nlN_3eFeAvj3le_EPkM","postman-token":"0aae0653-a443-4f82-b341-210b11277108","user-agent":"PostmanRuntime/7.32.2"},"httpVersion":"1.1","method":"DELETE","originalUrl":"/movies/647ab18c47a1a654d9951a4b","query":{},"url":"/movies/647ab18c47a1a654d9951a4b"},"stack":"Error: Фильм не найден\n    at C:\\movies-explorer-api\\controllers\\movies.js:61:15\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)","trace":[{"column":15,"file":"C:\\movies-explorer-api\\controllers\\movies.js","function":null,"line":61,"method":null,"native":false},{"column":5,"file":"node:internal/process/task_queues","function":"processTicksAndRejections","line":96,"method":null,"native":false}]}}
{"level":"error","message":"middlewareError","meta":{"date":"Sat Jun 03 2023 08:21:59 GMT+0500 (Екатеринбург, стандартное время)","error":{"statusCode":404},"exception":true,"level":"error","message":"uncaughtException: Не найдено\nError: Не найдено\n    at C:\\movies-explorer-api\\routes\\index.js:21:8\n    at Layer.handle [as handle_request] (C:\\movies-explorer-api\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (C:\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at C:\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:286:9\n    at param (C:\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:365:14)\n    at param (C:\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:376:14)\n    at Function.process_params (C:\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:421:3)\n    at next (C:\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at module.exports.auth (C:\\movies-explorer-api\\middlewares\\auth.js:27:10)\n    at Layer.handle [as handle_request] (C:\\movies-explorer-api\\node_modules\\express\\lib\\router\\layer.js:95:5)","os":{"loadavg":[0,0,0],"uptime":5122},"process":{"argv":["C:\\Program Files\\nodejs\\node.exe","C:\\movies-explorer-api\\app.js"],"cwd":"C:\\movies-explorer-api","execPath":"C:\\Program Files\\nodejs\\node.exe","gid":null,"memoryUsage":{"arrayBuffers":18305136,"external":19305407,"heapTotal":29519872,"heapUsed":26998640,"rss":58294272},"pid":8112,"uid":null,"version":"v16.17.0"},"req":{"headers":{"accept":"*/*","accept-encoding":"gzip, deflate, br","connection":"keep-alive","content-length":"446","content-type":"application/json","cookie":"jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2NDdhYWY3MzIwMjg4ZjBkNDI5NjJmY2YiLCJpYXQiOjE2ODU3NjIzNzUsImV4cCI6MTY4NjM2NzE3NX0.y3lofa8SSuuqDbniKMOqEUA8nlN_3eFeAvj3le_EPkM","postman-token":"6d6e0ee0-f095-42fe-ab95-3fb39da864d7","user-agent":"PostmanRuntime/7.32.2"},"httpVersion":"1.1","method":"POST","originalUrl":"/movies/647ab18c47a1a654d9951a4b","query":{},"url":"/movies/647ab18c47a1a654d9951a4b"},"stack":"Error: Не найдено\n    at C:\\movies-explorer-api\\routes\\index.js:21:8\n    at Layer.handle [as handle_request] (C:\\movies-explorer-api\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (C:\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at C:\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:286:9\n    at param (C:\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:365:14)\n    at param (C:\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:376:14)\n    at Function.process_params (C:\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:421:3)\n    at next (C:\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at module.exports.auth (C:\\movies-explorer-api\\middlewares\\auth.js:27:10)\n    at Layer.handle [as handle_request] (C:\\movies-explorer-api\\node_modules\\express\\lib\\router\\layer.js:95:5)","trace":[{"column":8,"file":"C:\\movies-explorer-api\\routes\\index.js","function":null,"line":21,"method":null,"native":false},{"column":5,"file":"C:\\movies-explorer-api\\node_modules\\express\\lib\\router\\layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"C:\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js","function":"trim_prefix","line":328,"method":null,"native":false},{"column":9,"file":"C:\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js","function":null,"line":286,"method":null,"native":false},{"column":14,"file":"C:\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js","function":"param","line":365,"method":null,"native":false},{"column":14,"file":"C:\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js","function":"param","line":376,"method":null,"native":false},{"column":3,"file":"C:\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js","function":"Function.process_params","line":421,"method":"process_params","native":false},{"column":10,"file":"C:\\movies-explorer-api\\node_modules\\express\\lib\\router\\index.js","function":"next","line":280,"method":null,"native":false},{"column":10,"file":"C:\\movies-explorer-api\\middlewares\\auth.js","function":"module.exports.auth","line":27,"method":"auth","native":false},{"column":5,"file":"C:\\movies-explorer-api\\node_modules\\express\\lib\\router\\layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false}]}}
